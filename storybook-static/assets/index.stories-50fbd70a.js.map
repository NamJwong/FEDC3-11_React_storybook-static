{"version":3,"file":"index.stories-50fbd70a.js","sources":["../../src/utils/format.ts","../../src/components/Input/index.tsx"],"sourcesContent":["export const autoFormat = {\n  price: (value: string) => {\n    return (+value.replace(new RegExp(',', 'g'), '')).toLocaleString();\n  },\n  phoneNumber: (value: string) => {\n    const numbers = value.replace(new RegExp('[^0-9]', 'g'), '');\n    let result = '';\n    if (value.length > 13) {\n      return value.slice(0, 13);\n    }\n    if (numbers.length < 4) {\n      return numbers;\n    }\n    if (numbers.length < 7) {\n      result += numbers.slice(0, 3);\n      result += '-';\n      result += numbers.slice(3);\n      return result;\n    }\n    if (numbers.length < 11) {\n      result += numbers.slice(0, 3);\n      result += '-';\n      result += numbers.slice(3, 6);\n      result += '-';\n      result += numbers.slice(6);\n      return result;\n    }\n    result += numbers.slice(0, 3);\n    result += '-';\n    result += numbers.slice(3, 7);\n    result += '-';\n    result += numbers.slice(7);\n    return result;\n  },\n  date: (value: string) => {\n    const numbers = value.replace(new RegExp('[^0-9]', 'g'), '');\n    let result = '';\n    if (value.length > 10) {\n      return value.slice(0, 10);\n    }\n    if (numbers.length <= 4) {\n      return numbers;\n    }\n    if (numbers.length <= 6) {\n      result += numbers.slice(0, 4);\n      result += '-';\n      result += numbers.slice(4);\n      return result;\n    }\n    result += numbers.slice(0, 4);\n    result += '-';\n    result += numbers.slice(4, 6);\n    result += '-';\n    result += numbers.slice(6);\n    return result;\n  },\n};\n","import { InputHTMLAttributes, useState } from 'react';\nimport { FormatType } from './types';\nimport { autoFormat } from '../../utils/format';\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  readonly formatType?: FormatType;\n  initialValue?: string;\n}\n\nconst format = (value: string, formatType: FormatType) => {\n  switch (formatType) {\n    case 'price':\n      return autoFormat.price(value);\n    case 'phone':\n      return autoFormat.phoneNumber(value);\n    case 'date':\n      return autoFormat.date(value);\n  }\n  return value;\n};\n\nexport default function Input({ onChange, initialValue, formatType = 'none', ...props }: InputProps) {\n  const [value, setValue] = useState(format(initialValue ?? '', formatType));\n\n  return (\n    <input\n      value={value}\n      {...props}\n      onChange={(e) => {\n        onChange?.(e);\n        setValue(formatType !== 'none' ? format(e.target.value, formatType) : e.target.value);\n      }}\n    />\n  );\n}\n"],"names":["autoFormat","value","numbers","result","format","__name","formatType","Input","onChange","initialValue","props","setValue","useState","_jsx"],"mappings":"iOAAO,MAAMA,EAAa,CACxB,MAAQC,IACE,CAACA,EAAM,QAAQ,IAAI,OAAO,IAAK,GAAG,EAAG,EAAE,GAAG,iBAEpD,YAAcA,GAAkB,CACxB,MAAAC,EAAUD,EAAM,QAAQ,IAAI,OAAO,SAAU,GAAG,EAAG,EAAE,EAC3D,IAAIE,EAAS,GACT,OAAAF,EAAM,OAAS,GACVA,EAAM,MAAM,EAAG,EAAE,EAEtBC,EAAQ,OAAS,EACZA,EAELA,EAAQ,OAAS,GACTC,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,CAAC,EAClBC,GAELD,EAAQ,OAAS,IACTC,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,CAAC,EAClBC,IAECA,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,CAAC,EAClBC,EACT,EACA,KAAOF,GAAkB,CACjB,MAAAC,EAAUD,EAAM,QAAQ,IAAI,OAAO,SAAU,GAAG,EAAG,EAAE,EAC3D,IAAIE,EAAS,GACT,OAAAF,EAAM,OAAS,GACVA,EAAM,MAAM,EAAG,EAAE,EAEtBC,EAAQ,QAAU,EACbA,EAELA,EAAQ,QAAU,GACVC,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,CAAC,EAClBC,IAECA,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,EAAG,CAAC,EAClBC,GAAA,IACAA,GAAAD,EAAQ,MAAM,CAAC,EAClBC,EACT,CACF,EChDAC,EAAAC,EAAA,CAAAJ,EAAAK,IAAA,CACE,OAAAA,EAAA,CAAkB,IAAA,QAEd,OAAAN,EAAA,MAAAC,CAAA,EAA6B,IAAA,QAE7B,OAAAD,EAAA,YAAAC,CAAA,EAAmC,IAAA,OAEnC,OAAAD,EAAA,KAAAC,CAAA,CAA4B,CAEhC,OAAAA,CACF,EAVA,UAYA,SAAAM,EAAA,CAA8B,SAAAC,EAAEA,aAAAA,EAAUC,WAAAA,EAAAA,UAA2BC,CAA6B,EAAA,CAChG,KAAA,CAAAT,EAAAU,CAAA,EAAAC,EAAA,SAAAR,EAAAK,GAAA,GAAAH,CAAA,CAAA,EAEA,OAAAO,EAAA,QAAA,CACE,MAAAZ,EACE,GAAAS,EACIA,SAAAA,GAAAA,CAEFF,GAAAA,MAAAA,EAAAA,GACAG,EAAAA,IAAAA,OAAAA,EAAAA,EAAAA,OAAAA,MAAAA,CAAAA,EAAAA,EAAAA,OAAAA,KAAAA,CAAoF,CACtF,CAAA,CAGN,CAbAN,EAAAE,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}